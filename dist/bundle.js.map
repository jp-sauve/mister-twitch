{"version":3,"sources":["webpack:///webpack/bootstrap 9718bee039dbc540b2f8","webpack:///./src/app.js","webpack:///./src/composeTwitchStreamersList.js","webpack:///./src/util.js"],"names":["debug","streamers","activeTmpl","$","templates","inactiveTmpl","listHTML","document","ready","console","log","getTList","html","onlinetmpl","offlinetmpl","streamerRequests","channelRequests","baseURLonline","baseURLoffline","forEach","streamer","push","getJSON","results","onlinePromises","Promise","all","offlinePromises","then","online","offline","index","streamerResult","entries","stream","JSON","stringify","streamerStrippedResults","preview","large","url","channel","display_name","status","game","addHTMLToList","render","channelStrippedResults","logo","last_seen","timeElapsed","updated_at","renderedHTML","append","startTime","finishTime","now","Date","msElapsed","seconds","toFixed","minutes","hours","days"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9718bee039dbc540b2f8","/*jslint devel:true */\n/*global $, jQuery*/\n\nimport {\n  getTList\n} from './composeTwitchStreamersList';\n\nlet debug = true,\n  streamers = [ \"geekandsundry\", \"ESL_SC2\", \"OgamingSC2\", \"cretetion\", \"freecodecamp\", \"storbeck\", \"habathcx\", \"RobotCaleb\", \"noobs2ninjas\" ],\n  activeTmpl = $.templates( \"#activeStreamTemplate\" ),\n  inactiveTmpl = $.templates( \"#inactiveStreamTemplate\" ),\n  listHTML = \"\";\n\n$( document ).ready( function () {\n  if ( debug ) {\n    console.log( \"Document ready!\" );\n  };\n  getTList( streamers );\n  $( '#streamList' ).html( listHTML );\n\n} );\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","/*jslint devel:true */\n/*global $, jQuery*/\n\nimport {\n  timeElapsed\n} from './util';\n\nlet debug = true,\n  onlinetmpl = $.templates( '#activeStreamTemplate' ),\n  offlinetmpl = $.templates( '#inactiveStreamTemplate' );\n\nfunction getTList( streamers ) {\n  let streamerRequests = [],\n    channelRequests = [];\n  const baseURLonline = 'https://wind-bow.glitch.me/twitch-api/streams/',\n    baseURLoffline = 'https://wind-bow.glitch.me/twitch-api/channels/';\n  streamers.forEach( streamer => {\n    streamerRequests.push( $.getJSON( baseURLonline + streamer, function ( results ) {\n      return results;\n    } ) );\n    channelRequests.push( $.getJSON( baseURLoffline + streamer, function ( results ) {\n      return results;\n    } ) );\n  } );\n  let onlinePromises = Promise.all( streamerRequests ),\n    offlinePromises = Promise.all( channelRequests );\n  Promise.all( [ onlinePromises, offlinePromises ] ).then( ( [ online, offline ] ) => {\n    for ( let [ index, streamerResult ] of online.entries() ) {\n      if ( streamerResult.stream !== null ) {\n        if (debug){JSON.stringify(streamerResult, null, '\\t');}\n        const streamerStrippedResults = {\n          stream: {\n            preview: {\n              large: streamerResult.stream.preview.large\n            },\n            url: streamerResult.stream.url,\n            channel: {\n              display_name: streamerResult.stream.channel.display_name,\n              status: streamerResult.stream.channel.status,\n              game: streamerResult.stream.channel.game\n            }\n          }\n        };\n        addHTMLToList( onlinetmpl.render( streamerStrippedResults ) );\n      } else {\n        const channelStrippedResults = {\n          channel: {\n            display_name: offline[ index ].display_name,\n            url: offline[ index ].url,\n            logo: offline[ index ].logo || \"/mister-twitch/images/logo-transp-dark-300.png\",\n            last_seen: timeElapsed( offline[ index ].updated_at )\n          }\n        };\n  //      console.log( \"\\nOffline:\\n\" + JSON.stringify( channelStrippedResults, null, '\\t' ) );\n        addHTMLToList( offlinetmpl.render( channelStrippedResults ) );\n      }\n    }\n  } );\n};\n\nfunction addHTMLToList( renderedHTML ) {\n  $( '#streamList' ).append( renderedHTML );\n}\nexport {\n  getTList\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/composeTwitchStreamersList.js","function timeElapsed( startTime, ...finishTime ) {\n  let now = new Date(),\n    then = new Date( startTime ),\n    msElapsed = now - then,\n    seconds = ( msElapsed / 1000 ).toFixed( 1 ),\n    minutes = ( msElapsed / ( 1000 * 60 ) ).toFixed( 1 ),\n    hours = ( msElapsed / ( 1000 * 60 * 60 ) ).toFixed( 1 ),\n    days = ( msElapsed / ( 1000 * 60 * 60 * 24 ) ).toFixed( 1 );\n  switch ( true ) {\n    case ( seconds < 60 ):\n      return seconds + \" seconds\";\n    case ( minutes < 60 ):\n      return minutes + \" minutes\";\n    case ( hours < 24 ):\n      return hours + \" hours\";\n    default:\n      return days + \" days\";\n  }\n}\n\nexport {\n  timeElapsed\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/util.js"],"sourceRoot":""}